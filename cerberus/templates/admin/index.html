{% extends 'base.html' %}
{% block title %}{{title}}{% endblock %}
{% block content %}
<div class="card-body row" style="margin:0px!important;">
    <div style="margin-bottom: 4rem; width: 50%;">
        <h3>Users</h3>
        <table class="table-striped datatable">
            <tr>
                <th>ID</th>
                <th>Username</th>
                <th>Admin</th>
                <th>Projects</th>
                <th>Actions</th>
        
            </tr>
            {% for user in data[0] %}
            <tr>
                <td>{{user.id}}</td>
                <td>{{user.username}}</td>
                <td>{{user.admin}}</td>
                <td>{{user.project_count}}</td>
                <td>
                    <a href="{{url_for('admin.edit_user', id=user.id)}}">Edit</a>
                    <a href="{{url_for('admin.delete_user', id=user.id)}}">Delete</a>
                </td>
            </tr>
            {% endfor %}
            <tr>
                <td colspan="5"><a href="{{url_for('admin.new_user')}}" style="color: var(--orange-color);">+ Create User</a></td>
            </tr>
        </table>
    </div>
    <div style="margin-bottom: 4rem; width: 50%;">
        <h3>Projects</h3>
        <table class="table-striped datatable">
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Associated users</th>
                <th>Actions</th>
            </tr>
            {% for project in data[1] %}
            <tr>
                <td>{{project.id}}</td>
                <td>{{project.name}}</td>
                <td>{{project.user_count}}</td>
                <td>
                    <a href="{{url_for('admin.edit_project', id=project.id)}}">Edit</a>
                </td>
            </tr>
            {% endfor %}
        
        </table>
    </div>

</div>

{% endblock %}